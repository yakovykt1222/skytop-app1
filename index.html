<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: -apple-system, sans-serif; background-color: #f4f4f7; padding: 20px; display: flex; flex-direction: column; align-items: center; color: #1c1c1e; }
        .balance-card { background: white; border-radius: 20px; width: 100%; max-width: 400px; padding: 30px 20px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.05); margin-bottom: 20px; }
        .balance-amount { font-size: 42px; font-weight: 800; margin-bottom: 5px; }
        .btn-pay { background: #007aff; color: white; border: none; border-radius: 12px; padding: 15px 30px; width: 100%; font-size: 16px; font-weight: 600; cursor: pointer; transition: 0.2s; }
        .btn-pay:active { transform: scale(0.98); opacity: 0.9; }
        .status-text { color: #8e8e93; font-size: 14px; margin-top: 10px; }
    </style>
</head>
<body>

    <div class="balance-card">
        <div class="balance-amount">0 ‚ÇΩ</div>
        <div class="status-text">–í–∞—à–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞</div>
        <br>
        <button class="btn-pay" id="payButton" onclick="startPay()">üí≥ –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.ready();

        function startPay() {
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–∏–≥–Ω–∞–ª –±–æ—Ç—É. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ù–ï –∑–∞–∫—Ä—ã–≤–∞–µ–º.
            tg.sendData("request_pay_100");
            
            // –í–∏–∑—É–∞–ª—å–Ω—ã–π –æ—Ç–∫–ª–∏–∫
            const btn = document.getElementById('payButton');
            btn.innerText = "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–ø–ª–∞—Ç—ã...";
            btn.style.opacity = "0.7";
        }

        // –°–ª—É—à–∞–µ–º –æ—Ç–≤–µ—Ç –æ—Ç –±–æ—Ç–∞ —á–µ—Ä–µ–∑ –∏–Ω–≤–æ–π—Å (–µ—Å–ª–∏ –±–æ—Ç –ø—Ä–∏—à–ª–µ—Ç —Å—Å—ã–ª–∫—É –≤ —Å–ø–µ—Ü. —Ñ–æ—Ä–º–∞—Ç–µ)
        tg.onEvent('invoiceClosed', function(object) {
            if (object.status === 'paid') {
                tg.showAlert("‚úÖ –û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞! –ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–∏—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ –º–∏–Ω—É—Ç—ã.");
                location.reload();
            } else if (object.status === 'failed') {
                tg.showAlert("‚ùå –û—à–∏–±–∫–∞ –ø–ª–∞—Ç–µ–∂–∞.");
            }
        });
    </script>
</body>
</html>
